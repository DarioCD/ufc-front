---
import Layout from "../../layouts/Layout.astro";
import EventId from "../../components/EventId.astro";
import {
  getEventById,
  getAllEvents,
} from "../../services/event";

import { type Event } from "../../types/event-api";

const { id } = Astro.params;

let event = {} as Event;

if (id) {
  event = await getEventById({ id });
}
export async function getStaticPaths() {
  const events = await getAllEvents();

  return events.map((event) => ({
    params: {
      id: event.id,
    },
  }));
}
---

<Layout title={event.eventNumber + " | UFC"}>
  <EventId eventProp={event}/>
</Layout>
