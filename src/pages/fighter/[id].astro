---
import Layout from "../../layouts/Layout.astro";
import { getFighterById } from "../../services/fighter";
import { getFighters } from "../../services/fighter";
import { type FighterAPI } from "../../types/fighter-api";
import FighterInfo from "../../components/FighterInfo.astro";
import FightFighter from "../../components/FightFighter.astro";
import FighterStats from "../../components/FighterStats.astro";

const { id } = Astro.params;

let fighter = {} as FighterAPI;

if (id) {
  fighter = await getFighterById({ id });
}
export async function getStaticPaths() {
  const fighters = await getFighters();

  return fighters.map((fighter) => ({
    params: {
      id: fighter.id,
    },
  }));
}
---

<Layout title={fighter.name + fighter.surname + " | UFC"}>
  <div class="containerGlobal">
    <FighterInfo fighterProp={fighter}/>
    <!-- <FightFighter fighterProp={fighter}/>
    <FighterStats fighterProp={fighter}/> -->
  <style>
    .containerGlobal {
      display: flex;
    flex-direction: column;
    justify-content: center;
    color: white;
    }
  </style>
</Layout>
